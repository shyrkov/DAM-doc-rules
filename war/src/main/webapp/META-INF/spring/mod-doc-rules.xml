<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd">

    <bean class="org.jahia.services.content.rules.ModuleGlobalObject">
        <property name="globalRulesObject">
            <map>
                <entry key="documentRulesService">
                    <bean class="org.jahia.modules.docrules.rules.DocumentRulesRuleService">
                        <property name="schedulerService" ref="SchedulerService"/>
                    </bean>
                </entry>
            </map>
        </property>
    </bean>
    
    <bean id="documentRuleCreatePdf" class="org.jahia.modules.docrules.CreatePDFDocumentRule">
        <property name="documentConverterService" ref="DocumentConverterService"/>
        <property name="supportedDocumentFormats">
            <set><!-- see JCRContentUtils bean definition in applicationcontext-basejahiaconfig.xml for mime type groups -->
                <value>word</value>
                <value>rtf</value>
                <value>excel</value>
                <value>powerpoint</value>
                <value>openoffice</value>
                
                <value>text/*</value>
            </set>
        </property>
    </bean>
    
    <bean id="documentRuleTagging" class="org.jahia.modules.docrules.TaggingDocumentRule">
        <property name="taggingService" ref="org.jahia.services.tags.TaggingService"/>
    </bean>
    
    <bean id="Engine.Tab.Rules" class="org.jahia.services.uicomponents.bean.editmode.EngineTab">
        <property name="id" value="rules"/>
        <property name="titleKey" value="label.engineTab.rules@modules.dam-doc-rules.resources.JahiaDocumentRules"/>
        <property name="parent" ref="filemanager" />
        <!--
        <property name="requiredPermission" value="viewRulesTab"/>
        -->
        <property name="tabItem">
            <bean class="org.jahia.ajax.gwt.client.widget.contentengine.PropertiesTabItem">
                <property name="dataType">
                    <list>
                        <value>rules</value>
                    </list>
                </property>
            </bean>
        </property>
    </bean>
    
</beans>